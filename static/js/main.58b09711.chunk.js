(this["webpackJsonploop-machine"]=this["webpackJsonploop-machine"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(11),o=n.n(a),s=n(10),r=n(8),l=n(12),u=n(3);var m=n(0),f=function(e){var t=e.handleClick,n=e.loop;return Object(m.jsx)("div",{className:"btn loop-square ".concat(n.isSelected?"active":""),onClick:function(){return t(n.id)},children:n.name})},d=function(e){var t=e.loops,n=e.handleClick;return Object(m.jsx)("div",{className:"loops-list",children:t.map((function(e,t){return Object(m.jsx)(f,{loop:e,handleClick:n},t)}))})};function p(e){var t=e.controls;return Object(m.jsx)("div",{className:"controls",children:t.map((function(e,t){return Object(m.jsx)("div",{className:"control-btn-container ".concat(e.action," ").concat(e.isActive?"active":""),children:Object(m.jsx)("div",{className:"btn",onClick:e.func})},t)}))})}var j=n.p+"static/media/Bass Warwick heavy funk groove on E 120 BPM.52c24c81.mp3",b=n.p+"static/media/electric guitar coutry slide 120bpm - B.230fcab8.mp3",v=n.p+"static/media/120_future_funk_beats_25.5eb417fc.mp3",O=n.p+"static/media/GrooveB_120bpm_Tanggu.3e1411b4.mp3",h=n.p+"static/media/PAS3GROOVE1.03B.f77c6da4.mp3",g=n.p+"static/media/SilentStar_120_Em_OrganSynth.f2d668af.mp3",S=n.p+"static/media/FUD_120_StompySlosh.27bdc145.mp3",_=n.p+"static/media/120_stutter_breakbeats_16.37c82282.mp3",N=n.p+"static/media/MazePolitics_120_Perc.2d08c654.mp3",x={getLoops:function(){return y.map((function(e,t){var n=e.name,c=e.audioFile;return{name:n,fileName:e.fileName,id:"".concat(t,"_").concat(n),isSelected:!1,audio:new Audio(c)}}))}},y=[{name:"Bass Warwick",audioFile:j,fileName:"Bass Warwick heavy funk groove on E 120 BPM.mp3"},{name:"Electric Guitar",audioFile:b,fileName:"electric guitar coutry slide 120bpm - B.mp3"},{name:"Future Funk",audioFile:v,fileName:"120_future_funk_beats_25.mp3"},{name:"Groove B",audioFile:O,fileName:"GrooveB_120bpm_Tanggu.mp3"},{name:"Maze Politics",audioFile:N,fileName:"MazePolitics_120_Perc.mp3"},{name:"Pas 3 Groove",audioFile:h,fileName:"PAS3GROOVE1.03B.mp3"},{name:"Silent Star",audioFile:g,fileName:"SilentStar_120_Em_OrganSynth.mp3"},{name:"Stompy Slosh",audioFile:S,fileName:"FUD_120_StompySlosh.mp3"},{name:"Stutter Breakbeats",audioFile:_,fileName:"120_stutter_breakbeats_16.mp3"}];function k(e){var t=e.loops.filter((function(e){return e.isSelected})),n=0!==t.length;return Object(m.jsxs)("div",{className:"loop-files-display-container",children:[Object(m.jsx)("div",{className:"title",children:"Selected Loops Files:"}),n&&Object(m.jsx)("ul",{className:"selected-loop-files-list",children:t.map((function(e,t){return Object(m.jsx)("li",{className:"file-name",children:e.fileName},t)}))}),!n&&Object(m.jsx)("div",{className:"not-selected",children:"No Loops Selected"})]})}var F=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(!1),o=Object(u.a)(a,2),f=o[0],j=o[1],b=Object(c.useState)(!1),v=Object(u.a)(b,2),O=v[0],h=v[1],g=Object(c.useState)(!1),S=Object(u.a)(g,2),_=S[0],N=S[1],y=Object(c.useState)([]),F=Object(u.a)(y,2),E=F[0],B=F[1];Object(c.useEffect)((function(){var e=x.getLoops();i(e)}),[]),Object(c.useEffect)((function(){P()}),[f]),function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){P()}),f?8e3:null),Object(c.useEffect)((function(){var e,t;if(_&&E.length){var n=E[0];t=n.endTime-n.startTime,e=function(){i(n.loops),j(n.isPlaying),B((function(e){var t=Object(l.a)(e);t[0];return t.slice(1)}))};var c=setInterval((function(){e()}),t);return function(){return clearInterval(c)}}}),[_,E]),Object(c.useEffect)((function(){O&&B((function(e){var t=(new Date).getTime();return e[e.length-1].endTime=t,[].concat(Object(r.a)(e),[{loops:n,isPlaying:f,startTime:t}])}))}),[O,f,n]);var P=function(){n.forEach((function(e){e.isSelected&&T(e.audio,f?"play":"pause")}))},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pause",n=["play","pause"];if(!n.includes(t))throw new Error("action can only be of values: ".concat(n));e.pause(),e.currentTime=0,"play"===t&&e.play()},w=[{action:"play",func:function(){f||n.some((function(e){return e.isSelected}))&&j(!f)},isActive:f&&!_},{action:"stop",func:function(){f&&j(!f)},isActive:!f},{action:"record",func:function(){B((function(e){if(e.length){console.log("stop recording");var t=(new Date).getTime();return e[e.length-1].endTime=t,Object(r.a)(e)}return console.log("start recording"),[].concat(Object(r.a)(e),[{loops:n,isPlaying:f,startTime:(new Date).getTime(),endTime:null}])})),h(!O)},isActive:O},{action:"play_recording",func:function(){j(!1),N(!_)},isActive:_}];return Object(m.jsx)("section",{className:"home",children:Object(m.jsxs)("div",{className:"loop-machine-container",children:[Object(m.jsx)("h1",{className:"loop-machine-title",children:"Loop Machine"}),n&&Object(m.jsxs)("div",{className:"control-panel",children:[Object(m.jsx)(d,{loops:n,handleClick:function(e){var t=n.map((function(t){return t.id===e&&t.isSelected&&T(t.audio,"pause"),t.id===e?Object(s.a)(Object(s.a)({},t),{},{isSelected:!t.isSelected}):t}));i(t)}}),Object(m.jsxs)("div",{className:"controls-info-container",children:[Object(m.jsx)(p,{controls:w}),Object(m.jsx)(k,{loops:n})]})]})]})})};function E(){return Object(m.jsx)("div",{className:"app",children:Object(m.jsx)(F,{})})}var B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};n(18);o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),B()}},[[19,1,2]]]);
//# sourceMappingURL=main.58b09711.chunk.js.map